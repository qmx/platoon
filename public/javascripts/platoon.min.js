/*! platoon - v0.1.0 - 2/5/2012
* https://github.com/rwldrn/platoon
* Copyright (c) 2012 Rick Waldron <waldron.rick@gmail.com>; Licensed MIT */
(function(a){var b=a.navigator,c=b&&(b.getUserMedia||b.webkitGetUserMedia||b.oGetUserMedia),d=a.io.connect(),e,f;e={},f=function(){this.id=f.id(),this.canvas=f.fixture("canvas",this.id),this.video=f.fixture("video",this.id),this.context=this.canvas.getContext("2d")},f.id=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;return(a==="x"?b:b&3|8).toString(16)}).toUpperCase()},f.fixture=function(a,b){var c=document.createElement(a);return c.id=a[0]+"_"+b,c.style.width="320px",c.style.height="240px",document.body.appendChild(c),c},e.cache={},e.join=function(){var a=f.id();localStorage.setItem("id",a),d.emit("join",{id:a})},d.on("joined",function(a){console.log(a)}),a.Platoon=e})(typeof exports=="object"&&exports||this)